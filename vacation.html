<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<div class="modal">
			<div class="modal_page">
				<button onclick="close_modal()" class="cancel_btn">x</button>
				<div class="input_data_cover">
					<textarea class="input_data_area" placeholder="내용을 입력해주세요."></textarea>
					<br>
					<button onclick="read_data()" class="input_data_area_btn">확인</button>
				</div>
			</div>
		</div>
		<div class="cover">
			<div class='top_nav'>
				<p class="top_nav_logo">
					Inst
				</p>
				<div class="top_nav_btn_cover">
					<a class="top_nav_btn">회원가입</a>
					<a class="top_nav_btn">로그인</a>
				</div>
			</div>
			<div class="main">
				<div class="main_side_bar">
					<a>공지사항</a>
					<a>휴가 관리</a>
					<a>현재 상태</a>
					<a>외출/외박</a>
					<a>종교</a>
					<a>게시판</a>
				</div>
				<div class="main_sector">
					<div class="vacation_title_cover">
						<p class="vacation_title">23.08.15</p>
						<div class="vacation_navbar">
							<input class="vacation_search_bar" placeholder="날짜를 입력해주세요">
							<button onclick="" class="vacation_search_btn">검색</button>
							<div class="vacation_navbar_btn_list">
								<button onclick="" class="vacation_data_input_page_btn vdipb1">전체</button>
								<button onclick="" class="vacation_data_input_page_btn">금일</button>
								<button onclick="open_modal()" class="vacation_data_input_page_btn vdipb2">설정</button>
							</div>
						</div>
					</div>
					<div class="vacation_table">
						<ul class="class_name">
							<li>이름</li>
							<li>휴가기간</li>
							<li>목적지</li>
							<li>휴가종류</li>
							<li>전화번호</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<script>
			init_today();
			
			function open_modal() {
				const q = document.querySelector('.modal');
				q.style.display = "block";
			}
			
			function close_modal() {
				const q = document.querySelector('.modal');
				q.style.display = "none";
			}
			
			// os 문제 있음 - window 한정으로 사용 가능(window 에서는 탭을 탭으로 인식)
			function read_data() {
				const q = document.querySelector('.input_data_area');
				const d = q.value;
				const dl = d.split('\n');
				
				vct = document.querySelector(".vacation_table");
				
				for (let i = 0; i < dl.length; i++) {
					const t = dl[i];
					console.log(t);
					const tl = t.split('\t');
					console.log(tl);
					
					data_row = document.createElement("ul");
					data_row.className = "class_name";
					
					for (let j = 0; j < tl.length; j++) {
						const data = tl[j];
						data_li = document.createElement("li");
						data_li.textContent = data;
						data_row.appendChild(data_li);
					}
					
					vct.appendChild(data_row);
				}
				
				close_modal();
			}
			
			// 현재 날짜로 최신화
			function init_today() {
				dt = new Date();
				
				y = dt.getFullYear();
				m = dt.getMonth() + 1;
				d = dt.getDate();
				
				cd = `${y}.${m}.${d}`;
				
				const q = document.querySelector(".vacation_title");
				q.textContent = cd;
			}
		</script>
	</body>
</html>